function zplayer(n){function it(n){var i=n||window.event,r=(i.clientX-p(t.bar))/o;ft(r)}function rt(){document.removeEventListener("mouseup",rt);document.removeEventListener("mousemove",it);t.audio.currentTime=parseFloat(t.playedBar.style.width)/100*t.audio.duration}function ut(n){var i=n||window.event,r=(i.touches[0].clientX-p(t.bar))/o;ft(r)}function ft(n){n=n>0?n:0;n=1>n?n:1;h("played",n,"width");t.lrcStart&&nt(parseFloat(t.playedBar.style.width)/100*t.audio.duration);t.element.getElementsByClassName("zplayer-ptime")[0].innerHTML=b(n*t.audio.duration)}function et(){document.removeEventListener("touchend",et);document.removeEventListener("touchmove",ut);t.audio.currentTime=parseFloat(t.playedBar.style.width)/100*t.audio.duration}function p(n){for(var i,r=n.offsetLeft,t=n.offsetParent;null!==t;)r+=t.offsetLeft,t=t.offsetParent;return i=document.body.scrollLeft+document.documentElement.scrollLeft,r-i}function s(n){for(var i,r=n.offsetTop,t=n.offsetParent;null!==t;)r+=t.offsetTop,t=t.offsetParent;return i=document.body.scrollTop+document.documentElement.scrollTop,r-i}function ot(n){var r=n||window.event,i=(r.clientX-p(t.volumeBar))/o;i=i>0?i:0;i=1>i?i:1;t.audio.muted&&(t.audio.muted=!1);t.audio.volume=i;h("volumePlayed",i,"width");i>=.8?(t.volumeIcon.classList.remove("z-icon-volume-down","z-icon-volume-off"),t.volumeIcon.classList.add("z-icon-volume-up")):i==0?(t.volumeIcon.classList.remove("z-icon-volume-down","z-icon-volume-up"),t.volumeIcon.classList.add("z-icon-volume-off")):(t.volumeIcon.classList.remove("z-icon-volume-off","z-icon-volume-up"),t.volumeIcon.classList.add("z-icon-volume-down"));yt("zplayer-volume",i,365)}function vt(){document.removeEventListener("mousemove",ot)}function st(n){var u,o,s,f,t,h;if(n){for(var e=(n=n.replace(/([^\]^\n])\[/g,function(n,t){return t+"\n["})).split("\n"),i=[],c=e.length,r=0;r<c;r++)if(u=e[r].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),o=e[r].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,""),u)for(s=u.length,f=0;f<s;f++)t=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(u[f]),h=60*t[1]+parseInt(t[2])+(t[4]?parseInt(t[4])/(2===(t[4]+"").length?100:1e3):0),i.push([h,o]);return(i=i.filter(function(n){return n[1]})).sort(function(n,t){return n[0]-t[0]}),i}return[[0,"暂无歌词，请您欣赏"]]}function yt(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toGMTString();document.cookie=n+"="+t+"; "+u}function pt(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++)if(t=u[i].trim(),t.indexOf(r)==0)return t.substring(r.length,t.length);return""}function wt(n,t){return Math.floor(Math.random()*(t-n+1)+n)}function ht(n){for(var r,u,t=n.slice(),i=0;i<t.length;i++)r=wt(0,i),u=t[i],t[i]=t[r],t[r]=u;return t}function v(n){if(t.PlayButton.classList.add("display-none"),t.PauseButton.classList.remove("display-none"),t.element.getElementsByClassName("zplayer-pic")[0].getElementsByTagName("img")[0].src=t.musics[n].pic,t.element.getElementsByClassName("zplayer-title")[0].innerHTML=t.musics[n].Name,t.element.getElementsByClassName("zplayer-author")[0].innerHTML=" - "+t.musics[n].Singer,t.lrcStart)for(t.lrcContents.innerHTML="",t.lrcContents.style.transform="translateY(0px)",y="",t.lrc=st(t.musics[n].lrc),d=0;d<t.lrc.length;d++)y+="<p>"+t.lrc[d][1]+"<\/p>",t.lrcContents.innerHTML=y,t.lrcIndex=0,t.lrcContents.getElementsByTagName("p")[0].classList.add("zplayer-lrc-current");clearInterval(t.loadedTime);clearInterval(t.playedTime);t.audio.src=t.musics[n].url;var i=t.audio.play();i&&i.catch(function(n){console.warn(n);t.PauseButton.classList.add("display-none");t.PlayButton.classList.remove("display-none")});t.playedTime=setInterval(function(){h("played",t.audio.currentTime/t.audio.duration,"width");t.lrcStart&&nt();t.element.getElementsByClassName("zplayer-ptime")[0].innerHTML=b(t.audio.currentTime)},100)}function w(n){if(u==2)if(a!=2){for(var e=0;e<r.length;e++)if(i==r[e]){f=e<r.length-1?e+1:0;i=r[f];break}}else f=n==1?f==0?t.musics.length-1:f-1:f<t.musics.length-1?f+1:0,i=r[f];else i=n==1?i==0?t.musics.length-1:i-1:i<t.musics.length-1?i+1:0;a=u;v(i)}function h(n,i,r){i=i>0?i:0;i=1>i?i:1;t[n+"Bar"].style[r]=100*i+"%"}function b(n){var t=function(n){return 10>n?"0"+n:""+n},i=parseInt(n/60),r=parseInt(n-60*i);return t(i)+":"+t(r)}function nt(n){if(n||(n=t.audio.currentTime),n<t.lrc[t.lrcIndex][0]||(t.lrcIndex==t.lrc.length-1?!1:n>=t.lrc[t.lrcIndex+1][0]))for(var i=0;i<t.lrc.length;i++)n>=t.lrc[i][0]&&(!t.lrc[i+1]||n<t.lrc[i+1][0])&&(t.lrcIndex=i,t.lrcContents.style.transform="translateY("+20*-t.lrcIndex+"px)",t.lrcContents.getElementsByClassName("zplayer-lrc-current")[0].classList.remove("zplayer-lrc-current"),t.lrcContents.getElementsByTagName("p")[i].classList.add("zplayer-lrc-current"))}function k(){t.PlayButton.classList.add("display-none");t.PauseButton.classList.remove("display-none");var n=t.audio.play();n&&n.catch(function(n){console.warn(n);t.PauseButton.classList.add("display-none");t.PlayButton.classList.remove("display-none")});clearInterval(t.playedTime);t.playedTime=setInterval(function(){h("played",t.audio.currentTime/t.audio.duration,"width");t.lrcStart&&nt();t.element.getElementsByClassName("zplayer-ptime")[0].innerHTML=b(t.audio.currentTime)},100)}function ct(){t.PauseButton.classList.add("display-none");t.PlayButton.classList.remove("display-none");t.audio.pause();clearInterval(t.playedTime)}function bt(n){c.push(t.musics.length);t.musics.push(n);u==2&&(r=ht(c),a=1)}function kt(n){if(n>=0&&c.length>n){if(c.splice(c.length-1,1),t.musics.splice(n,1),u==2)for(random_i=0;random_i<r.length;random_i++)r[random_i]==n?r.splice(random_i,1):r[random_i]>n&&r[random_i]--;i===n&&w(2)}}var t=n,g={autoPlay:!1,lrcStart:!1,showLrc:!1,fixed:!1,listMaxHeight:240};for(const n in g)g.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=g[n]);t.isMobile=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i);t.isMobile&&(t.autoPlay=!1);var o,i=0,f=0,y="",e="",u=0,a=0,tt=["z-icon-retweet","z-icon-retweet-one","z-icon-random","z-icon-reorder-list"],c=[],r=[];for(s=0;s<t.musics.length;s++)c.push(s);e+='<div class="zplayer">\t<div class="zplayer-content">\t\t<div class="zplayer-pic">\t\t\t<img src="'+t.musics[0].pic+'">\t\t<\/div>\t\t<div class="zplayer-info">\t\t\t<div class="zplayer-music">\t\t\t    <div class="zplayer-music-text">\t\t\t\t  <span class="zplayer-title">'+t.musics[0].Name+'<\/span>\t\t\t\t  <span class="zplayer-author"> - '+t.musics[0].Singer+"<\/span>\t\t\t    <\/div>\t\t\t<\/div>";t.fixed||(e+=t.showLrc?'<div class="zlrc">':'<div class="zlrc" style="display:none">',e+='\t<div class="zplayer-lrc">\t\t<div class="zplayer-lrc-contents" style="transform: translateY(0);">\t\t<\/div>\t<\/div><\/div>');e+='\t\t\t<div class="zplayer-controller">\t\t\t\t<div class="zplayer-bar-wrap">\t\t\t\t\t<div class="zplayer-bar">\t\t\t\t\t\t<div class="zplayer-loaded" style="width: 0"><\/div>\t\t\t\t\t\t<div class="zplayer-played" style="width: 0">\t\t\t\t\t\t\t<span class="zplayer-thumb"><\/span>\t\t\t\t\t\t<\/div>\t\t\t\t\t<\/div>\t\t\t\t<\/div>\t\t\t\t<div class="zplayer-time">\t\t\t\t\t<span class="zplayer-ptime">00:00<\/span><span class="zplayer-dtime">00:00<\/span>\t\t\t\t<\/div>\t\t\t\t<div class="zplayer-btn">\t\t\t\t\t<i class="player-type-icon z-icon z-icon-retweet"><\/i>\t\t\t\t\t<div class="zplayer-menu-bars">\t\t\t\t\t\t<i class="icon-previous z-previous"><\/i>\t\t\t\t\t\t<i class="icon-play z-play"><\/i>\t\t\t\t\t\t<i class="icon-stop z-stop display-none"><\/i>\t\t\t\t\t\t<i class="icon-next z-next"><\/i>\t\t\t\t\t<\/div>\t\t\t\t\t<div class="zplayer-menu-volume">';var l=pt("zplayer-volume"),lt=l==""?"80%":l*100+"%",at=l==""?"z-icon-volume-up":l>=.8?"z-icon-volume-up":l==0?"z-icon-volume-off":"z-icon-volume-down";if(e+=t.isMobile?"":'<i class="volume-icon z-icon '+at+'"><\/i><div class="zplayer-volume-bar"><div class="zplayer-volume-played" style="width:'+lt+'"><span class="zplayer-volume-thumb"><\/span><\/div><\/div>',e+=t.lrcStart?t.showLrc?'<i class="lrc-icon z-icon z-icon-list-alt"><\/i>':'<i class="lrc-icon z-icon z-icon-list-alt lrc-hide"><\/i>':"",e+="\t\t\t\t\t<\/div>\t\t\t\t<\/div>\t\t\t<\/div>\t\t<\/div>\t<\/div>",e+=t.fixed?'<div class="ss-btn"><i class="z-icon z-icon-chevron-left display-none"><\/i><i class="z-icon z-icon-chevron-right"><\/i><\/div>':"",e+="<\/div>",t.fixed&&(e+=t.showLrc?'<div class="zlrc">':'<div class="zlrc" style="display:none">',e+='\t<div class="zplayer-lrc">\t\t<div class="zplayer-lrc-contents" style="transform: translateY(0);">\t\t<\/div>\t<\/div><\/div>'),t.element.innerHTML=e,t.fixed&&t.element.classList.add("zplayer-fixed"),t.lrcStart){for(t.lrc=st(t.musics[0].lrc),t.showLrc&&t.element.classList.add("zplayer-withlrc"),t.lrcContents=t.element.getElementsByClassName("zplayer-lrc-contents")[0],d=0;d<t.lrc.length;d++)y+="<p>"+t.lrc[d][1]+"<\/p>";t.lrcContents.innerHTML=y;t.lrcIndex=0;t.lrcContents.getElementsByTagName("p")[0].classList.add("zplayer-lrc-current")}return t.audio=document.createElement("audio"),t.audio.src=t.musics[0].url,t.audio.loop=0,t.audio.preload="metadata",t.audio.volume=l==""?.8:l,t.audio.addEventListener("durationchange",function(){1!==t.audio.duration&&(t.element.getElementsByClassName("zplayer-dtime")[0].innerHTML=b(t.audio.duration))}),t.audio.addEventListener("loadedmetadata",function(){t.loadedTime=setInterval(function(){var n=t.audio.buffered.end(t.audio.buffered.length-1)/t.audio.duration;h("loaded",n,"width");1===n&&clearInterval(t.loadedTime)},500)}),t.audio.addEventListener("ended",function(){if(u==0)i=i+1==t.musics.length?0:i+1,v(i);else if(u==1)v(i);else if(u==2){if(a!=u){for(var n=0;n<r.length;n++)if(i==r[n]){f=n<r.length-1?n+1:0;i=r[f];break}}else f=f+1==t.musics.length?0:f+1,i=r[f];v(i)}else u==3&&(i!=t.musics.length-1?(i=i+1==t.musics.length?0:i+1,v(i)):(t.PauseButton.classList.add("display-none"),t.PlayButton.classList.remove("display-none"),t.audio.pause(),clearInterval(t.playedTime)));a=u}),t.audio.addEventListener("error",function(){t.element.getElementsByClassName("zplayer-author")[0].innerHTML=" - 歌曲加载失败 - ";t.element.getElementsByClassName("zplayer-dtime")[0].innerHTML="00:00";t.PauseButton.classList.add("display-none");t.PlayButton.classList.remove("display-none");t.musics.length>1&&setTimeout(function(){w(2)},1e3)}),t.PlayButton=t.element.getElementsByClassName("z-play")[0],t.PauseButton=t.element.getElementsByClassName("z-stop")[0],t.volumeIcon=t.element.getElementsByClassName("volume-icon")[0],t.lrcIcon=t.element.getElementsByClassName("lrc-icon")[0],t.playTypeIcon=t.element.getElementsByClassName("player-type-icon")[0],t.hidePlayerButton=t.element.getElementsByClassName("z-icon-chevron-left")[0],t.showPlayerButton=t.element.getElementsByClassName("z-icon-chevron-right")[0],t.playedBar=t.element.getElementsByClassName("zplayer-played")[0],t.loadedBar=t.element.getElementsByClassName("zplayer-loaded")[0],t.thumb=t.element.getElementsByClassName("zplayer-thumb")[0],t.bar=t.element.getElementsByClassName("zplayer-bar")[0],t.volumeThumb=t.element.getElementsByClassName("zplayer-volume-thumb")[0],t.volumeBar=t.element.getElementsByClassName("zplayer-volume-bar")[0],t.volumePlayedBar=t.element.getElementsByClassName("zplayer-volume-played")[0],t.bw=t.element.getElementsByClassName("zplayer-menu-bars")[0].getElementsByClassName("z-previous")[0],t.fw=t.element.getElementsByClassName("zplayer-menu-bars")[0].getElementsByClassName("z-next")[0],t.PlayButton.addEventListener("click",function(){k()}),t.PauseButton.addEventListener("click",function(){ct()}),t.isMobile||t.volumeIcon.addEventListener("click",function(){t.audio.muted?(t.audio.muted=!1,t.volumeIcon.className=.8<=t.audio.volume?"volume-icon z-icon z-icon-volume-up":"volume-icon z-icon z-icon-volume-down",h("volumePlayed",t.audio.volume,"width")):(t.audio.muted=!0,t.volumeIcon.className="volume-icon z-icon z-icon-volume-off",h("volumePlayed",0,"width"))}),t.lrcStart&&t.lrcIcon.addEventListener("click",function(){this.classList.contains("lrc-hide")?(t.element.classList.add("zplayer-withlrc"),this.classList.remove("lrc-hide"),t.element.getElementsByClassName("zlrc")[0].style.display="block"):(t.element.classList.remove("zplayer-withlrc"),this.classList.add("lrc-hide"),t.element.getElementsByClassName("zlrc")[0].style.display="none")}),t.fixed&&(t.hidePlayerButton.addEventListener("click",function(){t.element.getElementsByClassName("zplayer")[0].style.transform="translateX(-355px)";t.hidePlayerButton.classList.add("display-none");t.showPlayerButton.classList.remove("display-none")}),t.showPlayerButton.addEventListener("click",function(){t.element.getElementsByClassName("zplayer")[0].style.transform="translateX(0)";t.showPlayerButton.classList.add("display-none");t.hidePlayerButton.classList.remove("display-none")})),t.playTypeIcon.addEventListener("click",function(){t.playTypeIcon.classList.remove(tt[u]);u=(u+1)%4;t.playTypeIcon.classList.add(tt[u]);u==2&&(r=ht(c))}),t.bar.addEventListener("click",function(n){var r=n||window.event,i;o=t.bar.clientWidth;i=(r.clientX-p(t.bar))/o;h("played",i,"width");t.element.getElementsByClassName("zplayer-ptime")[0].innerHTML=b(i*t.audio.duration);t.audio.currentTime=parseFloat(t.playedBar.style.width)/100*t.audio.duration;k()}),t.thumb.addEventListener("mousedown",function(){o=t.bar.clientWidth;clearInterval(t.playedTime);document.addEventListener("mousemove",it);document.addEventListener("mouseup",rt)}),t.thumb.addEventListener("touchstart",function(){event.preventDefault();o=t.bar.clientWidth;clearInterval(t.playedTime);document.addEventListener("touchmove",ut);document.addEventListener("touchend",et)}),t.isMobile||t.volumeThumb.addEventListener("mousedown",function(){o=t.volumeBar.clientWidth;document.addEventListener("mousemove",ot);document.addEventListener("mouseup",vt)}),t.isMobile||t.volumeBar.addEventListener("click",function(n){var i=n||window.event;o=t.volumeBar.clientWidth;s=(i.clientX-p(t.volumeBar))/o;t.volumeIcon.className=.8<=s?"volume-icon z-icon z-icon-volume-up":s==0?"volume-icon z-icon z-icon-volume-off":"volume-icon z-icon z-icon-volume-down";t.audio.volume=s;h("volumePlayed",s,"width")}),t.bw.addEventListener("click",function(){w(1)}),t.fw.addEventListener("click",function(){w(2)}),t.autoPlay&&k(),{play:k,pause:ct,add:bt,remove:kt,next:w}}function Router(n,t){var i=this;n&&i.init(n,t);window.addEventListener("hashchange",function(){let n=location.hash.slice(1)||"";i.oldRoute=i.currentRoute;i.currentRoute=n;i.changePage(n)})}function LayerTip(n){var t,i,r;if(n=n||{},n.ele=n.ele||"body",n.timeOut=n.timeOut||3e3,t=$(n.ele),t.length==0){console.error("模块LayerTip初始化：缺少宿主容器！");return}if(n.layerEle!=undefined){if(i=n.layerEle.slice(0,1),i!="#"){console.error("模块LayerTip初始化：layerEle错误，首字符应为#");return}if(r=$(n.layerEle),r.length>0){console.error("模块LayerTip初始化：已存在与layerEle相同的元素！");return}}this.o=n;this.bolInit=!0}function MusicList(n,t){function e(t){($(n.ele+" .lst-list").html(""),t)&&lis.ajax({type:"get",data:{keyword:t},url:n.url,contentType:"application/x-www-form-urlencoded",dataType:"json",success:function(n){n.code==0&&(i.musicList=n.data,h())},error:function(){}})}function h(t){var r,u;if(t=t||i.musicList,r=$(n.ele+" .lst-list"),r.html(""),t&&t.length){u="";for(let n=0;n<t.length;n++)u+="<div class='lst-list-item'>    <div class='lst-list-item-content "+(t[n].CanDownload?"":"disabled")+"' data-index='"+n+"'>        <div class='lst-i-content-title'>            <span class='lst-i-content-title-name'>"+t[n].Name+"<\/span>            <span class='lst-i-content-title-source'>"+s[t[n].MusicSource]+"<\/span>        <\/div>        <div class='lst-i-content-description'>            <span class='lst-i-content-description-singer'>"+t[n].Singer+"<\/span>            <span>&nbsp;-&nbsp;<\/span>            <span class='lst-i-content-description-album'>"+t[n].Album+"<\/span>        <\/div>    <\/div>    <div class='lst-list-item-btn'>        <button class='lst-i-btn-play' type='submit'><i class='icon-play'><\/i><\/button>        <button class='lst-i-btn-download' type='submit'><i class='icon-download'><\/i><\/button>    <\/div><\/div>";r.html(u)}}var i=this,f,u,r,o,s;if(!n||!n.ele||!n.url||!n.zplayer){console.error("MusicList模块加载错误：options缺少必要参数！");return}if(f=$(n.ele),!f){console.error("MusicList模块加载错误：缺少容器！");return}u={kwplaceholder:"输入关键词搜索",btn:["play","download","more"]};for(r in u)u.hasOwnProperty(r)&&!n.hasOwnProperty(r)&&(n[r]=u[r]);o="<div class='lst-search'>    <div class='lst-search-body'>        <input class='lst-search-text' type='text' placeholder='"+n.kwplaceholder+"' />        <button class='lst-search-submit' type='submit'><i class='icon-search'><\/i><\/button>    <\/div><\/div><div class='lst-list'><\/div>";f.html(o);$(document).on("click",n.ele+" .lst-search-submit",function(){e($(".lst-search-text").val())});$(document).on("keyup",n.ele+" .lst-search-text",function(n){n.keyCode==13&&e($(this).val())});$(document).on("click",n.ele+" .lst-list-item-content",function(){if($(this).hasClass("disabled")){lis.LayerTip.render({type:"fail",ins:"show",tip:"无法播放！"});return}i.Play($(this).data("index"))});s=["","QQ","酷狗","酷我","网易云"];i.zplayer=n.zplayer;i.musicList=[];i.options=n;e(n.keyword);typeof t=="function"&&t();i.Play=function(t){var u=i.musicList[t],r="";$.ajax({type:"get",data:{DownloadInfo:u.DownloadInfo,MusicSource:u.MusicSource},url:n.urlGetMusic,contentType:"application/x-www-form-urlencoded",dataType:"json","async":!1,success:function(n){n.code==0&&(r=n.data,r||lis.LayerTip.render({type:"fail",ins:"show",tip:"播放失败"}))}});r&&i.zplayer.add({Name:u.Name,Singer:u.Singer,url:r});r&&i.zplayer.next(2);r&&i.zplayer.remove(0)}}Router.prototype.init=function(n,t){if(!n||!n.length){console.error("Router初始化失败：routes错误！");return}this.routes=n;this.currentRoute=location.hash.slice(1)||t||n[0].id;this.oldRoute="";location.hash||history.replaceState(null,null,"#"+this.currentRoute);this.changePage(this.currentRoute);this.oldRoute=location.hash.slice(1)};Router.prototype.push=function(n){switch(typeof n){case"string":break;case"number":n=this.routes[n]||"";break;case"object":n=n.id||"";break;case"undefined":default:n=location.hash.slice(1)||""}location.hash=n};Router.prototype.changePage=function(n){if(this.routes&&this.routes.length)for(let t=0;t<this.routes.length;t++){let i=document.getElementById(routes[t].id);routes[t].id==n?(i&&(i.style.display="block"),typeof routes[t].title=="string"&&routes[t].title&&(document.title=routes[t].title),typeof routes[t].handle=="function"&&routes[t].handle()):i&&(i.style.display="none")}};LayerTip.prototype={render:function(n){var r,s,t,e,i,u,f;if(n=n||{},n.type=n.type||"loading",n.ins=n.ins||"show",n.tip==undefined||n.tip=="")switch(n.type){case"success":n.tip="成功！";break;case"fail":n.tip="失败！";break;case"loading":default:n.tip="加载中……"}if(r=this,!r.bolInit){console.error("模块LayerTip调用render：未初始化！");return}if(s=$(r.o.ele),r.o.layerEle!=undefined&&(t=$(r.o.layerEle),t.length>0))if(t.hasClass("lisui-loading")&&n.type!="loading"||t.hasClass("lisui-layer-tip")&&n.type=="loading")t.remove();else switch(n.type){case"success":case"fail":t.remove();break;case"loading":default:n.ins!="hidden"||t.hasClass("hidden")?n.ins=="show"&&t.hasClass("hidden")&&t.removeClass("hidden"):t.addClass("hidden");return}if(r.o.layerEle==undefined||n.ins!="hidden"){if(r.o.layerEle==undefined&&n.ins=="hidden"){switch(n.type){case"success":t=$(".lisui-layer-success");break;case"fail":t=$(".lisui-layer-fail");break;case"loading":default:t=$(".lisui-loading")}t.each(function(){$(this).attr("id")==undefined&&$(this).remove()});return}e=null;r.o.layerEle!=undefined&&(e=r.o.layerEle.substring(1));i=$("<div><\/div>").attr("id",e);switch(n.type){case"success":i.addClass("lisui-layer-tip lisui-layer-success");u=$("<i class='icomoon-cool'><\/i>");f=$("<p>"+n.tip+"<\/p>");i.append(u);i.append(f);break;case"fail":i.addClass("lisui-layer-tip lisui-layer-fail");u=$("<i class='icomoon-baffled'><\/i>");f=$("<p>"+n.tip+"<\/p>");i.append(u);i.append(f);break;case"loading":default:i.addClass("lisui-loading");var o=$("<div class='lisui-loading-tip'><\/div>"),u=$("<i><\/i>"),f=$("<p>"+n.tip+"<\/p>");o.append(u);o.append(f);i.append(o)}s.append(i);switch(n.type){case"success":case"fail":i.on("click",function(){$(this).remove()});r.LayerTipShowTimeOut(i)}}},LayerTipShowTimeOut:function(n,t){var i=this;(t==undefined||t<=0)&&(t=i.o.timeOut);setTimeout(function(){n.remove()},t)}};let lis=function(){function r(i){t.render({type:"loading",ins:"show"});let r=$.ajax(i);$.when(r).done(function(t){t.code==0?n.render({type:"success",ins:"show",tip:t.status}):n.render({type:"fail",ins:"show",tip:t.status})}).fail(function(){n.render({type:"fail",ins:"show"})}).always(function(){t.render({type:"loading",ins:"hidden"})})}let t=new LayerTip,n=new LayerTip({layerEle:"#lt13149527"}),i=new Router;return{Loading:t,LayerTip:n,Router:i,ajax:r}}();